# Домашнее задание 2

Нужно придумать фичи или продукт. Найти в интеренете отзывы на эту тему или смежную. На основании отзывов составить Персоны. Сделать агента для каждой персоны и фасилитатора. Написать алгоритм где фасилитатор опрашивает персон на предмет фичи, собирает обратную связь и делает вывод на основании полученной информации. Еще раз опрашивает персон - что вот такой то вывод - хотите ли что-то еще добавить и делает итоговый вывод.

## Как делал?

Поискал аналоги Langraph или Crew на PHP, нашел Neuron-php.
Поискал отзывы про CRM системы и закинул все в один файл - reports.txt
Спросил у ChatGPT как написать промт.
Открыл курсор и закинул промт.

### Промт

Напиши PHP-приложение, которое выполняет следующие шаги:

1. **Читает файл `reports.txt`** — список пользовательских отзывов (на естественном языке).

2. **Отправляет текст всех отзывов в OpenAI API** и получает:
   - 2–3 предложения по новым фичам продукта, основанных на жалобах/ожиданиях пользователей
   - 3–5 персон, каждая с описанием контекста, целей, боли, поведения

3. Используя **Neuron AI** (https://github.com/inspector-apm/neuron-ai) и OpenAI:
   - Создай по одному **агенту (персоне)** на основе каждой сгенерированной персоны
   - Создай **агента-фасилитатора**, который проводит виртуальное обсуждение фич с персонами

4. Логика обсуждения:
   - Фасилитатор по очереди опрашивает каждую персону:
     - Понимает ли она, зачем нужна каждая фича?
     - Как она бы использовала фичу в своём контексте?
     - Что её волнует в этой фиче? (в духе Jobs To Be Done)
   - После обсуждения всех фич фасилитатор задаёт финальный вопрос:
     - \"Хочешь ли ты добавить что-то ещё?\"

5. В конце:
   - Сохрани лог разговора (в виде текста) в файл `conversation.txt`
   - Сгенерируй итоговое **резюме обсуждения** от имени фасилитатора (что важно, что неясно, какие фичи приоритетны) и запиши в `summary.txt`

**Требования:**
- Использовать PHP 8+
- Взаимодействие с OpenAI API через `openai-php/client`
- Интеграция с Neuron AI для управления агентами @https://github.com/inspector-apm/neuron-ai 
- Структура кода должна быть модульной: отдельные классы для анализа отзывов, генерации фич, персон, симуляции диалога

**Дополнительно:**
- Логику можно реализовать CLI-обработчиком
- Сделай так, чтобы модельки (персоны, фичи) можно было сохранить в JSON и переиспользовать

### Итог

Получил код кторый не работал - закидывал ошибки Cursor - он их правил и все равно код не работал.
В итоге оказалось, что документация neuron-php и сам код - сильно отличаются. Подправил код руками и заработало.

По самому результату: он показал, как важны исходные данные и правильные формулировки. Отзывы были в разных форматах - что повлияло на формирование Персон и фич. Правильно формулировка является определяющей - это как желания которые загадываешь Джину - нужно как можно больше условий и ограничений указать - тогда результат будет нормальный - если этого не делать, то получится то что у меня получилось (reports.txt и summary.txt)

Курсор и подобные редакторы - подходят больша для MVP, после того что получилось еще нужно дорабатывать напильником или в целом переделывать - оставляя суть того что получилось.
Например в данном коде - нужно что сделать фасилитатора и агентов независимыми, которые инициализируются извне - прошивкой "мозгов" и "поведения". Сейчас же это происходит внутри классов (поведение), а это резко сужает область использование в проде.
